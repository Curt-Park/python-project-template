name: Checks Pull-Request titles

on:
  pull_request:
    branches: [ main ]
    types: [opened, edited, synchronize, reopened]

jobs:
  title-check:
    runs-on: ubuntu-latest
    steps:
      - uses: deepakputhraya/action-pr-title@master
        with:
          # Only allow Conventional Commits prefixes recognized by release-please
          # feat: minor version bump, fix: patch version bump, others: no version bump
          regex: '^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\(.+\))?: (.+)'
          allowed_prefixes: 'feat,fix,docs,style,refactor,perf,test,build,ci,chore,revert'
          disallowed_prefixes: ''
          prefix_case_sensitive: false
          min_length: 10
          max_length: 72
          verbal_description: 'Conventional Commit message compatible with release-please (e.g., "feat: Add new feature", "fix: Fix bug")'
          github_token: ${{ github.token }}
